# =================================================================
# Top-Level Radiative Transfer Parameters
# =================================================================
radiative_transfer: 
  # Spectral bands (list of ν_start:ν_step:ν_end, in cm⁻¹)
  spec_bands:
    #- (1e7/750):0.05:(1e7/745)
    #- (1e7/768):0.05:(1e7/763) 
    #- (1e7/783):0.15:(1e7/750)
    #- (1e7/780):0.02:(1e7/755)
    - (1e7/764)-250.:0.1:(1e7/761)+250. #dwl = 0.01040 nm
    #- (1e7/782):1.0:(1e7/750) #dwl = 0.05776 nm  
    #- (1e7/782):0.002:(1e7/750) --> this works only for noRS, indicating that the max. spectral resolution decreases by a factor of 100 for RRS computations
    #- (1e7/777):0.08:(1e7/758)
  # Bidirectional Reflectance Distribution Function (BRDF) per band
  surface: 
    - LambertianSurfaceScalar{Float64}(0.) #(0.3) #(0.2) #(0.05)
    #- LambertianSurfaceScalar{Float64}(0.3)
  # Quadrature-scheme for stream calculations
  quadrature_type:    GaussQuadHemisphere()
  # Polarization type (Stokes_I, Stokes_IQ, Stokes_IQU, Stokes_IQUV)
  polarization_type:  Stokes_IQU() #QU()
  # Maximum m (number of Fourier moments to loop over)
  max_m:              1 #3
  # Exclusion angle for forward peak in fitting procedure (degrees)
  Δ_angle:            2.0
  # Trunction length for legendre terms
  l_trunc:            5 #5
  # Depolarization factor
  depol:              0.028 #(0.028: Cabannes), (0.1032: Rayleigh) 
  # Floating point type for calculations (Float32, Float64)
  float_type:         Float64
  # Architecture (default_architecture, Architectures.GPU(), Architectures.CPU())
  architecture:       Architectures.GPU() # default_architecture
  
# =================================================================
# Simulation Geometry
# =================================================================
geometry: 
  # Solar zenith angle (degrees)
  sza:                19.0 #19. #45. #60 #30. #60 #32.4436
  # Viewing zenith angles (degrees)
  vza:                [0.0] #[30., 30., 30., 30., 30.] #[0, 30, 60, 30] #[15, 30, 45, 60] #[32.4436] #[0.072]
  # Viewing azimuth angles (degrees)
  vaz:                [0.0] #[0.0, 45., 90., 135., 180.] #, 0.0, 0.0, 180.] #[0.0, 0.0, 180., 180.]
  # Observation altitude (Pa)
  obs_alt:            0 #1000.0

# =================================================================
# Atmospheric Profile
# =================================================================
atmospheric_profile: 
  # Temperature Profile (TOA to BOA, in K)
  # Full-levels, specified at layer centers
  T: #[231.62, 244.33, 251.34, 258.09, 264.25, 269.15, 
     # 272.59, 274.07, 273.30, 269.65, 264.27, 258.11, 
     # 251.52, 245.22, 239.20, 234.05, 229.71, 225.70, 
     # 222.70, 220.62, 219.32, 217.93, 216.98, 217.10, 
     # 218.35, 223.33, 234.19, 249.34] #, 264.12, 277.20, 
    #[231.62, 244.33, 251.34, 258.09, 264.25, 269.15, 
    #  272.59, 274.07, 273.30, 269.65, 264.27, 258.11, 
    #  251.52, 245.22, 239.20, 234.05, 229.71, 225.70, 
    #  222.70, 220.62, 219.32, 217.93, 216.98, 217.10, 
    #  218.35, 223.33, 234.19, 249.34, 264.12] #, 277.20, 
    # 280.77, 282.60, 284.40, 285.80]
    [231.62, 244.33, 251.34, 258.09, 264.25, 269.15, 
      272.59, 274.07, 273.30, 269.65, 264.27, 258.11, 
      251.52, 245.22, 239.20, 234.05, 229.71, 225.70, 
      222.70, 220.62, 219.32, 217.93, 216.98, 217.10, 
      218.35, 223.33, 234.19, 249.34, 264.12, 277.20, 
      280.77, 282.60, 284.40, 285.80]
  # Pressure Profile (TOA to BOA at each boundary, in hPa)
  # Half-levels, specified at layer boundaries
  p: #[0.14,   0.22,   0.30,   0.39,   0.53,   0.71,   
     # 0.96,   1.28,   1.70,   2.27,   3.03,   4.03,  
     # 5.44,   7.26,   9.67,  12.90,  17.23,  23.30,  
     # 31.00,  42.07,  56.09,  74.78,  99.69, 131.00,
     # 176.85, 236.64, 314.58, 418.87, 500.] #557.76, 735.00, 
      #800.12, 849.00, 912.00, 980.00, 1000.0] #1002.0] #1005.0]
    #[  0.14,   0.22,   0.30,   0.39,   0.53,   0.71,   
    #   0.96,   1.28,   1.70,   2.27,   3.03,   4.03,  
    #   5.44,   7.26,   9.67,  12.90,  17.23,  23.30,  
    #   31.00,  42.07,  56.09,  74.78,  99.69, 131.00,
    #  176.85, 236.64, 314.58, 418.87, 557.76, 750.] #735.00, 
    #  #800.12, 849.00, 912.00, 980.00, 1000.0] #1002.0] #1005.0]
    [  0.14,   0.22,   0.30,   0.39,   0.53,   0.71,   
       0.96,   1.28,   1.70,   2.27,   3.03,   4.03,  
       5.44,   7.26,   9.67,  12.90,  17.23,  23.30,  
       31.00,  42.07,  56.09,  74.78,  99.69, 131.00,
      176.85, 236.64, 314.58, 418.87, 557.76, 735.00, 
      800.12, 849.00, 912.00, 980.00, 1000.0] #1002.0] #1005.0]
  q: #[2.1e-6, 2.85e-6, 3.45e-6, 4.5e-6, 5.7e-6,
     # 6.45e-6, 7.35e-6, 9.3e-6, 11.4e-6, 13.95e-6,
     # 15.3e-6, 16.5e-6, 17.7e-6, 20.1e-6, 20.7e-6,
     # 23.1e-6, 25.2e-6, 26.4e-6, 27.3e-6, 19.65e-6,
     # 14.1e-6, 8.7e-6, 5.85e-6, 4.95e-6, 4.95e-6,
     # 16.95e-6, 195.0e-6, 577.5e-6, 1366.5e-6] #, 3673.5e-6] #,
      #4350.0e-6, 5100.0e-6, 5994.0e-6, 6789.0e-6, 7029.0e-6]
    #[2.1e-6, 2.85e-6, 3.45e-6, 4.5e-6, 5.7e-6,
    #6.45e-6, 7.35e-6, 9.3e-6, 11.4e-6, 13.95e-6,
    #15.3e-6, 16.5e-6, 17.7e-6, 20.1e-6, 20.7e-6,
    #23.1e-6, 25.2e-6, 26.4e-6, 27.3e-6, 19.65e-6,
    #14.1e-6, 8.7e-6, 5.85e-6, 4.95e-6, 4.95e-6,
    #16.95e-6, 195.0e-6, 577.5e-6, 1366.5e-6, 3673.5e-6] #,
      ##4350.0e-6, 5100.0e-6, 5994.0e-6, 6789.0e-6, 7029.0e-6]
    [0., 0., 0., 0., 0.,
    0., 0., 0., 0., 0.,
    0., 0., 0., 0., 0.,
    0., 0., 0., 0., 0.,
    0., 0., 0., 0., 0.,
    0., 0., 0., 0., 0.,
    0., 0., 0., 0., 0.]
  # Reduce profile to n layers (-1 is default, leave as is)
  profile_reduction: 5 # 5 #

# =================================================================
# Absorption-Related Parameters (Optional)
# =================================================================
#absorption:
#  # List of molecules per spectral band
#  molecules:
#    - [O2]       # Molecules in Band #1
    
    
    #- [H2O,CO2]  # Molecules in Band #3
  # LookUpTable files (Interpolation Model saved as JLD2!)
#  LUTfiles:
#    - ["/net/fluo/data3/data/Databases/ABSCO_CS_Database/v5.2_final/o2_v52_extra.jld2"]
    #- ["/net/fluo/data2/data/ABSCO_CS_Database/v5.2_final/wh2o_v52.jld2", "/net/fluo/data2/data/ABSCO_CS_Database/v5.2_final/wco2_v52.jld2"]
    #- ["/net/fluo/data2/data/ABSCO_CS_Database/v5.2_final/sh2o_v52.jld2", "/net/fluo/data2/data/ABSCO_CS_Database/v5.2_final/sco2_v52.jld2"]
  # VMR profiles can either be real-valued numbers, 
  # or an array of nodal points from TOA to BOA, interpolated in pressure space
#  vmr: 
#    O2:   0.21
  # Broadening function (Doppler/Lorentz/Voigt)
#  broadening:         Voigt()
  # Complex error function for Voigt calculations
#  CEF:                HumlicekWeidemann32SDErrorFunction()
  # Wing cutoff (cm⁻¹)
#  wing_cutoff:        150 #40

# =================================================================
# Scattering-Related Parameters (Optional)
# =================================================================
scattering:
  # List of scattering aerosols and their properties
  aerosols:       
    - τ_ref:          0.0 #00001 #0.5           # Reference τ
      μ:              0.01 #1.3           # Log mean radius (µm)
      σ:              1.12 #2.0           # Log stddev of radius (µm)
      nᵣ:             1.5           # Real part of refractive index
      nᵢ:             0.00000001    # Imag part of refractive index
      z₀:             1.         # Pressure peak (hPa)
      σ₀:             0.2          # Pressure peak width (hPa)
  # Maximum aerosol particle radius for quadrature points/weights (µm)
  r_max:          50.0
  # Number of quadrature points for aerosol radius
  nquad_radius:   2500
  # Reference wavelength (µm)
  λ_ref:          0.770 
  # Decomposition method (NAI2 or PCW)
  decomp_type:        NAI2()
